"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[7084],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var a=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=a.createContext({}),u=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},c=function(e){var t=u(e.components);return a.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=u(n),m=o,h=d["".concat(l,".").concat(m)]||d[m]||p[m]||i;return n?a.createElement(h,r(r({ref:t},c),{},{components:n})):a.createElement(h,r({ref:t},c))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,r=new Array(i);r[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,r[1]=s;for(var u=2;u<i;u++)r[u]=n[u];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},96285:function(e,t,n){n.r(t),n.d(t,{contentTitle:function(){return l},default:function(){return d},frontMatter:function(){return s},metadata:function(){return u},toc:function(){return c}});var a=n(87462),o=n(63366),i=(n(67294),n(3905)),r=["components"],s={},l="UI Automation Testing",u={unversionedId:"QA/Automation",id:"QA/Automation",title:"UI Automation Testing",description:"Background",source:"@site/docs/QA/Automation.md",sourceDirName:"QA",slug:"/QA/Automation",permalink:"/va-mobile-app/docs/QA/Automation",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"QA",permalink:"/va-mobile-app/docs/QA/"},next:{title:"Meetings",permalink:"/va-mobile-app/docs/QA/Meetings"}},c=[{value:"Background",id:"background",children:[],level:2},{value:"Detox: our UI automation tool",id:"detox-our-ui-automation-tool",children:[{value:"Local setup for detox",id:"local-setup-for-detox",children:[],level:3}],level:2},{value:"UI Automation Testing Process",id:"ui-automation-testing-process",children:[{value:"Release Candidate Automation",id:"release-candidate-automation",children:[],level:3},{value:"Writing new cases",id:"writing-new-cases",children:[],level:3}],level:2}],p={toc:c};function d(e){var t=e.components,n=(0,o.Z)(e,r);return(0,i.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"ui-automation-testing"},"UI Automation Testing"),(0,i.kt)("h2",{id:"background"},"Background"),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},'For folks looking for a basic primer on "what is UI automation testing", reading one of the ',(0,i.kt)("a",{parentName:"em",href:"https://www.atlassian.com/continuous-delivery/software-testing/types-of-software-testing"},"many articles available via quick google search")," is the recommended method. This section instead covers the background of automated UI testing for the mobile team.")),(0,i.kt)("p",null,"Implementing robust UI automation for the mobile team supports several team goals - more efficiently using QA Engineer time, finding bugs sooner/reducing regressions, and improving FE efficiency (reducing the number of flaky unit tests that are written to accomplish what UI automation is better positioned to test). "),(0,i.kt)("p",null,"Phases include:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Tool assessment & initial implementation"),": Completed Q3 2022"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Release candidate script automation"),": Slated for Q2 2023"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Key end-to-end test automation"),": ",(0,i.kt)("em",{parentName:"li"},"Future"))),(0,i.kt)("h2",{id:"detox-our-ui-automation-tool"},"Detox: our UI automation tool"),(0,i.kt)("p",null,"Our automated UI testing is done with ",(0,i.kt)("a",{parentName:"p",href:"https://wix.github.io/Detox/"},"Detox"),", which we picked over other tools because it slotted in nicely with existing tools/tech for the team (react native, javascript, jest) while also having more robust functionality with lighter lift than some other tools (write a single script that executes cross-platform; active development, support & documentation updates from the detox team; etc)."),(0,i.kt)("h3",{id:"local-setup-for-detox"},"Local setup for detox"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Check for the ",(0,i.kt)("a",{parentName:"li",href:"https://wix.github.io/Detox/docs/introduction/getting-started#detox-prerequisites"},"detox pre-reqs")," on your local machine and install if needed."),(0,i.kt)("li",{parentName:"ol"},"Check that the emulators used by the script (",(0,i.kt)("a",{parentName:"li",href:"https://github.com/department-of-veterans-affairs/va-mobile-app/blob/develop/VAMobile/.detoxrc.json#L17"},"listed in .detoxrc.json"),") are installed on your machine, and install them if not. ",(0,i.kt)("a",{parentName:"li",href:"https://wix.github.io/Detox/docs/introduction/project-setup#step-3-device-configs"},"Helpful instructions from detox"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},'If you need to create a new Android emulator, make sure to bump up the internal storage (default is 800, bumping to 8000 definitely works). If you don\'t do this, you\'ll get an out of storage error. One path that works for this: Shift-Shift > search "Virtual Device Manager" > {create new device or edit existing device} > Show Advanced Settings > scroll down to the "Memory and Storage" section to find the "Internal Storage" field'))),(0,i.kt)("li",{parentName:"ol"},"Build the app. iOS is ",(0,i.kt)("inlineCode",{parentName:"li"},"yarn e2e:ios-build")," and Android is ",(0,i.kt)("inlineCode",{parentName:"li"},"yarn e2e:android-build"),". This will take a few minutes."),(0,i.kt)("li",{parentName:"ol"},"Run tests. iOS is ",(0,i.kt)("inlineCode",{parentName:"li"},"yarn e2e:ios-test")," and Android is ",(0,i.kt)("inlineCode",{parentName:"li"},"yarn e2e:android-test"),". ",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Android will open the emulator & show you the tests running, automatically. If you want to see the iOS tests on the simulator, you need to have the Simulator app open before starting the iOS tests (but, if you don't care about watching on the simulator, it'll still run fine without it."),(0,i.kt)("li",{parentName:"ul"},"Individual test runtime is ~30 seconds (we start all tests back from the login window). Total test runtime will change as we add more tests, but expect it to take a few minutes as well.")))),(0,i.kt)("h2",{id:"ui-automation-testing-process"},"UI Automation Testing Process"),(0,i.kt)("h3",{id:"release-candidate-automation"},"Release Candidate Automation"),(0,i.kt)("p",null,"The RC regression script is split into two sections: testing covered manually, and ",(0,i.kt)("a",{parentName:"p",href:"https://dsvavsp.testrail.io/index.php?/suites/view/92&group_by=cases:section_id&group_order=desc&display_deleted_cases=0&group_id=9683"},"testing covered with automation."),"."),(0,i.kt)("p",null,"Each release, someone from the QA team is responsible for 'babysitting' the automated tests for the release candidate build. This person is responsible for confirming all automated cases have run against the correct build, and then signing off on automated testing by leaving a comment in the release sign-off ticket. There are three potential outcomes for this signoff, here's an example of what the comment would look like for each:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"All automated cases pass, signing off on that section"),(0,i.kt)("li",{parentName:"ol"},"Some automated cases failed: (list of which cases & why). These failures do not indicate a breaking change with the app, and I have written up automation maintenance ticket(s) for the necessary changes: (links to relevant tickets)"),(0,i.kt)("li",{parentName:"ol"},"Some automated cases failed: (list of which cases & why). These failures are breaking changes in the app, and I have written up bug ticket(s): (links to relevant tickets). These bugs SHOULD / SHOULD NOT prevent release of the app.")),(0,i.kt)("p",null,"We create additional tickets, even for test script maintenance issues, to avoid pushing changes onto the RC branch during the release process."),(0,i.kt)("h3",{id:"writing-new-cases"},"Writing new cases"),(0,i.kt)("p",null,"Creating new cases for UI automation is ticketed work, as atomic as possible, & well-documented (as per ",(0,i.kt)("a",{parentName:"p",href:"https://department-of-veterans-affairs.github.io/va-mobile-app/docs/Engineering/Philosphy"},"our engineering philosophy"),")."),(0,i.kt)("p",null,"In addition to making sure that the automated tests are functioning well, an engineer writing new tests is also responsible for:"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"All new automated tests")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Creating TestRail cases & steps for automated tests (if needed/not currently written)"),(0,i.kt)("li",{parentName:"ul"},"Confirming all test runs for the new automated script can be recorded in TestRail (preferably automatically, but at least manually)"),(0,i.kt)("li",{parentName:"ul"},"Ensuring the new cases provide artifacts (where necessary) for success or failure")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Additional work for RC automated tests")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Confirming that the new script follows the manual RC script test steps"),(0,i.kt)("li",{parentName:"ul"},'Moving all manual cases replaced by automation to the "Automated" section of the RC script (could involve moving the full case, or splitting an existing case into manual and automated portions)')))}d.isMDXComponent=!0}}]);