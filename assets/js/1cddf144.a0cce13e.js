"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[5305],{1488:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>r,contentTitle:()=>s,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var a=n(87462),o=(n(67294),n(3905));const i={title:"For engineers",sidebar_position:5},s=void 0,l={unversionedId:"About/engineers",id:"About/engineers",title:"For engineers",description:"Testing component integrations",source:"@site/design/About/engineers.md",sourceDirName:"About",slug:"/About/engineers",permalink:"/va-mobile-app/design/About/engineers",draft:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{title:"For engineers",sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"For designers",permalink:"/va-mobile-app/design/About/designers"},next:{title:"Button",permalink:"/va-mobile-app/design/Components/Buttons and links/Button"}},r={},p=[{value:"Testing component integrations",id:"testing-component-integrations",level:2},{value:"Automatically",id:"automatically",level:3},{value:"Manually",id:"manually",level:3}],m={toc:p},c="wrapper";function h(e){let{components:t,...n}=e;return(0,o.kt)(c,(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"testing-component-integrations"},"Testing component integrations"),(0,o.kt)("p",null,"Before a new component, or new version of an old component, is released it should be tested inside an example environment that it will be consuming. For this purpose we can use the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/department-of-veterans-affairs/va-mobile-app"},"VA Flagship app"),". We can do this both with automation and manual testing."),(0,o.kt)("h3",{id:"automatically"},"Automatically"),(0,o.kt)("p",null,"We will have automated checks run on the components where we can. For our main client, the VA Flagship app we currently have ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/department-of-veterans-affairs/va-mobile-library/blob/main/.github/workflows/check-component-integrations.yml"},"a Github actions workflow")," that will run each time a pull request is merged into the ",(0,o.kt)("inlineCode",{parentName:"p"},"main")," branch. This automated workflow will simulate the VA Flagship app using the latest component package and run any associated tests to ensure no unintentional breakage happens. The workflow can also be run manually from the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/department-of-veterans-affairs/va-mobile-library/actions/workflows/check-component-integrations.yml"},"Check Component Integrations action"),"."),(0,o.kt)("p",null,"As more clients are added to the system, more tests will be added to the workflow. The tests themselves are managed by the client team and any app included (at this time) needs to be in a publicly accessible repository."),(0,o.kt)("p",null,"Automated tests will be able to check each instance of the component, so it is also important to manually test component integrations where appropriate."),(0,o.kt)("h3",{id:"manually"},"Manually"),(0,o.kt)("p",null,"There are a couple ways to manually check if a component works inside an app environment. The first is to use ",(0,o.kt)("a",{parentName:"p",href:"https://classic.yarnpkg.com/lang/en/docs/cli/link/"},"local dependency linking through yarn commands"),". This creates a symlink to the local component from the app. There are some ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/facebook/metro/issues/1"},"Metro config changes that need to happen for this to work")," and support is a little iffy at the moment, but it's certainly an option, although not highly recommended at this point."),(0,o.kt)("p",null,"Our second (and preferred) option is to manually install the local component into the app you're testing in by running: ",(0,o.kt)("inlineCode",{parentName:"p"},"yarn add file:../../va-mobile-library/packages/components")," (assumes va-mobile-app and va-mobile-library are siblings, if they are not, change the path). This method points directly to the component file you're testing. The downside here is that your watch command may not work, so you'll need to rebuild the app to see changes (or update the watch configuration)."),(0,o.kt)("p",null,"Once this component is listed in the package.json file you can run all app-level tests on it (tapping around, unit, compiling, e2e). The level of testing needed will be defined by the size of the update that is being made."))}h.isMDXComponent=!0}}]);